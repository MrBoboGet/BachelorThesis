# Modular decomposition coloring

This repository contains the files used in the thesis (REFERNS?). 

# Graph coloring

The main files of interest is [ModularColoring.py](/ModularColoring.py), which contains the code used in coloring the various graphs. It contains the implementation for TabuCol,DSatur, Greedy and RLF. It depends on [ModularDecomposition](https://github.com/AnnaLindeberg/ModularDecomposition) and [networkx](https://networkx.org/). The invocation has the following syntax: 

```bash
py ModularColoring.py <input-file> 
```


The result is printed on stdout, formatted as comma separated line suitable for a csv file. The first value is the name of the input file, the second value is the modular decomposition label for the root vertex in the modular decomposition. 1 Means parallel, 0 series and p prime. The third column is the name of the heuristic tested, the fourth column is the name of the strategy used, the fifth column is the number of colors used in the coloring, and the last column is the amount of time the coloring took. 

# Graph generation

[CreateRandomGraphs.py](/CreateRandomGraphs.py) contains the code used to generate the disturbed cographs is located. It depends on [AsymmeTree](https://github.com/david-schaller/AsymmeTree) and [networkx](https://networkx.org/). It can be used to fully customize the generation as described in the thesis, and as such has many mandatory paramters. It is invoked as the follows: 

```bash
py CreateRandomGraphs.py <graph-vertex-count> <series-probability>\ 
    <prime-module-edge-probability> <prime-module-count> <prime-module-size>\
    <output-directory>
```


If the output-directory doesn't exits, so is it created. Then, 15 random graphs named 0.edge to 14.edge is created in that directory with the specified parameters. The graph is written in [networkx edge list format](https://networkx.org/documentation/stable/reference/readwrite/edgelist.html). 

The generated graphs used for testing can also be generated by using [GenerateGraphs.sh](/GenerateGraphs.sh). It should be called in the top directory, and generates the graphs described in the thesis, and puts the result the [TestGraphs](/TestGraphs) directory. 

# Tested graphs

The graphs that the were colored is located in the [TestGraphs](/TestGraphs) directory. Every directory contains the graphs for the specific parameters that can be determined from the directory name, as described in the thesis, with the exception of the DIMACS directory that contains a subset of DIMACS graph coloring test graphs,nameley the non trivial graphs found [here](https://cedric.cnam.fr/~porumbed/graphs/). 

# Auxiliary scripts

These are the various script that where used to produce the thesis, but with use case that are not as generic. They are mostly scripts use to automate the invocation of the previous scripts, and to generate the tables used in the thesis. 

## Coloring script

[RunTest.sh](/RunTest.sh) is a bash file that is responsible for creating a csv file that contains the coloring results for a specific graph group, taking as input a directory with graphs. It uses [ModularColoring.py](/ModularColoring.py), and should be invoked in the root of the repository as follows: 

```bash
bash RunTest.sh <input-directory> <output-file>
```


It runs all of the coloring simultaneously, which can cause problems on systems without a lot of RAM. 

[RunAllTests.sh](/RunAllTests.sh) is the top script that colors all of the test graphs. It should be called from the root of the repository. With no arguments, it invokes RunTest.sh once for each directory in [TestGraphs](/TestGraphs), and outputs the results in [ColoringResults](/ColoringResults). Invoked with arguments, it uses the arguments as the list of directories to invoke [RunTest.sh](/RunTest.sh) on. 

## Image creation

[MakeGraph.r](/MakeGraph.r) is a R file that creates the images used in the thesis, and depends on [tidyverse](https://www.tidyverse.org/). It takes an input the directory containing the .csv files with the result of the graph coloring, and create the images in the output directory. It is invoked as following: 

```bash
rscript MakeGraph.r <input-directory> <output-directory>
```


